{% load static %}
<!DOCTYPE html>
<html lang="en">

{% include 'mb/head.html' %}

<body>
<div class="container-fluid position-relative bg-white d-flex p-0">

    <!-- 侧边栏 -->
    {% include 'mb/menus.html' %}


    <div class="content">
        <!-- 导航栏 -->
        {% include 'mb/nav.html' %}


        <!-- 活动列表 -->
        <!-- 活动列表 -->
        <div class="container mt-3">
            <h2>活动列表</h2>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">活动名称</th>
                    <th scope="col">主办方</th>
                    <th scope="col">开始时间</th>
                    <th scope="col">结束时间</th>
                    <th scope="col">地点</th>
                    <th scope="col">操作</th>
                </tr>
                </thead>
                <tbody>
                <!-- 假设你有一个活动列表变量 activities，你需要在你的视图函数中传递这个变量 -->
                {% for activity in activities %}
                    <tr>
                        <th scope="row">{{ forloop.counter }}</th>
                        <td>{{ activity.title }}</td>
                        <td>{{ activity.sponsor }}</td>
                        <td>{{ activity.start_time }}</td>
                        <td>{{ activity.end_time }}</td>
                        <td>{{ activity.place }}</td>
                        <td>
                            <!-- 编辑按钮，触发编辑模态框 -->
                            <button type="button" class="btn btn-primary btn-sm" data-bs-toggle="modal"
                                    data-bs-target="#editModal{{ activity.id }}">编辑
                            </button>

                            <!-- 删除按钮，触发删除确认模态框 -->
                            <button type="button" class="btn btn-danger btn-sm" data-bs-toggle="modal"
                                    data-bs-target="#deleteModal{{ activity.id }}">删除
                            </button>
                        </td>
                    </tr>

                    <!-- 编辑模态框 -->
                    <div class="modal fade" id="editModal{{ activity.id }}" tabindex="-1"
                         aria-labelledby="editModalLabel{{ activity.id }}" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="editModalLabel{{ activity.id }}">编辑活动</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <!-- 这里可以放置编辑活动的表单 -->
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">关闭
                                    </button>
                                    <button type="button" class="btn btn-primary">保存更改</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 删除确认模态框 -->
                    <div class="modal fade" id="deleteModal{{ activity.id }}" tabindex="-1"
                         aria-labelledby="deleteModalLabel{{ activity.id }}" aria-hidden="true">
                        <div class="modal-dialog">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title" id="deleteModalLabel{{ activity.id }}">确认删除</h5>
                                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    确定要删除这个活动吗？
                                </div>
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">取消
                                    </button>
                                    <button type="button" class="btn btn-danger">删除</button>
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
                </tbody>
            </table>
        </div>


    </div>
</div>

{% include 'mb/commjs.html' %}

</body>
</html>